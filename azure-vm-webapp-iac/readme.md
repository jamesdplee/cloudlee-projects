# Project - Create a Container Web Server with an ARM Template

## Project Scenario

In this mini project you're going to take on the role of a cloud administrator for the fictional company, Aus-E-Mart. As administrator you're going to go through the journey of deploying a legacy containerized web application to a virtual machine.

Unhappy with how long it takes you to manually deploy and configure this virtual machine, you're going to convert the solution into an ARM Template. You'll create a Key Vault to improve security, and add a Custom Script Extension to help automate the deployment process.

## Project Stages

The stages you will follow are below:  

- Stage 1 - Manually setup a virtual machine and host a docker web app  
- Stage 2 - Create an ARM template to deploy the solution faster  
- Stage 3 - Setup Key Vault to store credentials for your deployment
- Stage 4 - Add a Custom Script Extension to automate the web app configuration 
- Stage 5 - Cleanup  

_Note: We will be using ARM template files generated by Azure. These won't be as "clean" as you want them normally in production. I have included similar Azure generated template files in this repository without much modification, the same like you will have, so there is no confusion... even though I itch to clean them up :)_

**Architecture Diagram**: Coming soon...

## Instructions

- [Stage1](/azure-vm-webapp-iac/02_LABINSTRUCTIONS/STAGE1%20-%20Manually%20setup%20a%20docker%20VM.md)
- [Stage2](/azure-vm-webapp-iac/02_LABINSTRUCTIONS/STAGE2%20-%20Create%20an%20ARM%20template.md)
- [Stage3](/azure-vm-webapp-iac/02_LABINSTRUCTIONS/STAGE3%20-%20Use%20Key%20Vault.md)
- [Stage4](/azure-vm-webapp-iac/02_LABINSTRUCTIONS/STAGE4%20-%20Configure%20Custom%20Script%20Extension.md)
- [Stage5](/azure-vm-webapp-iac/02_LABINSTRUCTIONS/STAGE5%20-%20CLEANUP.md)

## Click-to-Deploy Setup

This mini project does not use a click-to-deploy template in stage 1 like other cloudlee mini projects. Instead, you will start by performing a manual deployment in the Azure portal, and will then export and update your own ARM template in later stages.

With that said, some "completed" ARM templates are provided for you in case you would like to check for a working solution, or if you would like to skip ahead to a stage in this mini project. You can find these at the end of any stage they are made in the `Completed Resources` section.

## Video Guides

- Coming soon...


## Architecture Diagrams

- Stage1 - PNG (coming soon)
- Stage1 - PDF (coming soon)
- Stage2 - PNG (coming soon)
- Stage2 - PDF (coming soon)
- Stage3 - PNG (coming soon)
- Stage3 - PDF (coming soon)
- Stage4 - PNG (coming soon)
- Stage4 - PDF (coming soon)


## What You Need

To complete this mini project you will need the following:

- An Azure subscription (see my free [Getting Started](https://learn.cloudlee.io/p/getting-started-with-azure) course if you do not yet have this)
- Code editor on your computer (or VSCode within _Classic_ Cloud Shell in Azure)
- Azure CLI on your computer (or you can use _Classic_ Cloud Shell in Azure)
- `Owner` access to the Azure subscription, or permissions for:
    - Virtual Machines
    - Virtual Networks
    - Key Vault (including data plane access)

See the [Optional Instructions](/azure-vm-webapp-iac/02_LABINSTRUCTIONS/Optional%20Instructions.md) if you choose to use Cloud Shell.

_Note: The solution videos and instructions will cover the step-by-step process using VS Code and Azure CLI installed on a computer._